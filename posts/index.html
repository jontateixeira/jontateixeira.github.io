<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="(geo)mechanics, (geo)chemical and multiphysics">
<meta name="viewport" content="width=device-width">
<title>YHWH Dwells in my heart | YHWH Dwells in my heart</title>
<link href="../assets/css/bitter.css" rel="stylesheet" type="text/css">
<link href="../assets/css/main.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://jontateixeira.github.io/posts/">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script><style>
    div.input_prompt {
      display: none;
    }
    </style>
</head>
<body>
    <section class="social"><ul>
<li><a href="../index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="http://lattes.cnpq.br/2372591257623213" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://www.linkedin.com/in/jonathanteixeira/" title="LinkedIn"><i class="icon-linkedin"></i></a></li>
            <li><a href="https://github.com/jontateixeira" title="My Github"><i class="icon-github"></i></a></li>
            <li><a href="#" title="Posts"><i class="icon-edit"></i></a></li>
            <li><a href="../archive.html" title="Archive"><i class="icon-archive"></i></a></li>
            <li><a href="../categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
        <div class="post">
            <h1 class="title"><a href="ativando-o-recurso-do-wsl/">Ativando o recurso do WSL no Windows</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2023-11-15T11:10:20-03:00">2023-11-15 11:10</time>
</div>
                <div class="stats">
                            <a href="ativando-o-recurso-do-wsl/#disqus_thread" data-disqus-identifier="cache\posts\ativando-o-recurso-do-wsl.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../categories/pesquisa/" rel="tag">pesquisa</a></li>
           <li><a class="tag p-category" href="../categories/ubuntu/" rel="tag">ubuntu</a></li>
           <li><a class="tag p-category" href="../categories/windons/" rel="tag">Windons</a></li>
           <li><a class="tag p-category" href="../categories/wsl/" rel="tag">WSL</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>Este post é direcionado principalmente aos membros do grupo de pesquisa $\ \mu\Phi$Flow (escoamento multifísico e multifásico) da <a href="https://www.ufal.br/ctec">UFAL</a>, sobre a ativação do WSL2.</p>
<p>O WSL é uma alternativa para que os desenvolvedores pudessem aproveitar o Windows e o Linux ao mesmo tempo em um computador Windows. O WSL (Subsistema do Windows para Linux) permite que os desenvolvedores instalem uma distribuição do Linux (como Ubuntu, OpenSUSE, Kali, Debian, Arch Linux etc) e utilizem aplicativos, utilitários e ferramentas em linha de comando <code>bash</code> do Linux "dentro" do Windows, sem nenhuma modificação (sem ter que utilizar o GRUB - GRand Unified Bootloader "Carregador de inicialização unificado" ou uma maquina virtual).</p>
<p>Para que seja possível utilizar o WSL, é importante checar alguns <strong>pré-requisitos</strong>. Você deve estar com a versão do Windows 10 versão 2004 e superior (<em>Build 19041 e superior</em>) ou o Windows 11 para ter WSL em sua máquina. Com este pré-requisito satisfeito, vamos para o procedimento de ativação e instalação do recurso WSL.</p>
<h3>Passo 1: Ativando o recurso do WSL</h3>
<ol>
<li>
<p>Na barra de pesquisa do Windows, pesquisar por: "ativar recursos do windows"</p>
<p><img src="../files/wsl/wsl-1.png" width="500"></p>
</li>
<li>
<p>Procurar e ativar as opções:</p>
<p><img src="../files/wsl/wsl-2.png" width="500"></p>
</li>
</ol>
<p>Após a ativação será necessário reiniciar o computador para que as alterações sejam contempladas.</p>
<h3>Passo 2: Instalando a distribuição Linux</h3>
<ol>
<li>
<p>Depois da inicialização do Windows. Abrir o PowerShell ou o Prompt de Comando do Windows <em>no modo administrador</em> clicando com o botão direito do mouse e selecionando "Executar como administrador". Em seguida, baixar e instalar a distribuição Ubuntu no wsl (mais informações ver <a href="https://learn.microsoft.com/pt-br/windows/wsl/setup/environment">Configurar um ambiente de desenvolvimento WSL | Microsoft Learn</a> ou <a href="https://learn.microsoft.com/pt-br/windows/wsl/install">Instalar o WSL | Microsoft Learn</a>), basta executar o comando:</p>
<p><code>shell
wsl --install -d ubuntu</code></p>
<p><img src="../files/wsl/wsl-3.png" width="500"></p>
<p>Após a finalização do procedimento, teremos o Ubuntu no nosso sistema operacional Windows.</p>
</li>
<li>
<p>Abriremos o Ubuntu para configuração e utilização. Para isso, pesquisamos por “Ubuntu”</p>
<p><img src="../files/wsl/wsl-4.png" width="500"></p>
<p><strong>Importante:</strong> As vezes será necessário atualizar o kernel do wsl instalado, para isso devemos instalar a atualização do mesmo, seguindo o link: <a href="https://learn.microsoft.com/pt-br/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package">Etapas de instalação manual para versões mais antigas do WSL | Microsoft Learn</a> (procurar na Etapa 4 ou 5…). Após a atualização, abrir novamente o Ubuntu</p>
</li>
<li>
<p>Com tudo rodando certo, devemos criar o usuário do sistema Ubuntu, e criar uma senha. Possívelmente encontrarás uma menságem similar a:</p>
<p><img src="../files/wsl/wsl-5.png" width="500"></p>
<p>Aqui definimos um usuário chamado de “catota” e a senha: “123456”</p>
<p>Com isso estamos com o sistema Ubuntu ativo e funcionando</p>
<p><img src="../files/wsl/wsl-6.png" width="500"></p>
</li>
<li>
<p>Recomendamos fortemente que você crie duas pastas na sua <code>home</code> de usuário chamadas “opt” e “run”, a primeira para colocar programas de instalação e a segunda para inserir todos os arquivos de casos que serão rodados. Para isso, basta rodar os comandos:</p>
<p><img src="../files/wsl/wsl-7.png" width="500"></p>
</li>
</ol>
<h3>Entendendo o sistema de arquivos do WSL e do Windows</h3>
<p>Não recomendamos trabalhar em sistemas operacionais que utilizam os mesmos arquivos/caminhos, a menos que você tenha um motivo específico para fazer isso. Para uma melhor velocidade de desempenho, armazene os seus arquivos no sistema de arquivos do WSL (sistema linux) se você estiver trabalhando em uma linha de comando do Ubuntu (Janela preta). Se estiver trabalhando em uma linha de comando do Windows (PowerShell, Prompt de Comando), armazene os arquivos no sistema de arquivos do Windows.</p>
<p>Por exemplo, para armazenar arquivos de projeto computacionais nativos/rodados no WSL, use o diretório raiz do sistema de arquivos do Linux: <code>\\wsl$\Ubuntu\home\&lt;user name&gt;\project</code>, e não o diretório raiz do sistema de arquivos do Windows: <code>/mnt/c/Users/&lt;user name&gt;/Project</code> ou <code>C:\Users\&lt;user name&gt;\project</code></p>
<p>Quando você ver <code>/mnt/</code> no caminho de arquivo de uma linha de comando do WSL (tela preta do sistema linux), isso significa que você está trabalhando em uma unidade montada. Portanto, a unidade <code>C:/</code> (<code>C:\Users\&lt;user name&gt;\project</code>) do sistema de arquivos do Windows, terá a seguinte aparência (quando montada em uma linha de comando do WSL): <code>/mnt/c/Users/&lt;user name&gt;/project</code>. É possível armazenar seus arquivos de projeto em uma unidade montada, mas a velocidade do desempenho melhorará se você os armazenar diretamente na unidade <code>\\wsl$</code>.</p>
<p>Quando dentro do sistema WSL (tela preta do Ubuntu), podemos ver o diretório em que os arquivos estão armazenados abrindo o Explorador de Arquivos Windows através da linha de comando, usando:</p>
<div class="code"><pre class="code literal-block">explorer.exe<span class="w"> </span>.
</pre></div>

<p><strong>Obs.:</strong> É necessário ter o “.”, isso indica que queremos abrir o diretório corrente. Portanto, não se esqueça de adicionar o ponto no final do comando para abrir o diretório atual.</p>
<p>Para ver se os arquivos do sistema WSL (arquivos dentro do Ubuntu) estão disponíveis, basta no Explorador de Arquivos do Windows, inserir <code>\\wsl$\Ubuntu\home\catota</code> na barra de endereço (se o usuário que colocaste é "catota").</p>
<p><img src="../files/wsl/wsl-8.png" width="500"></p>
<p>Se tudo estiver ocorrido bem, deveremos visualizar algo semelhante a isto:</p>
<p><img src="../files/wsl/wsl-9.png" width="500"></p>
<p>Bom isto é tudo! Espero que tenha ocorrido tudo conforme mostrado.</p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="gantt-plot-using-gnuplot/">Creating gantt plot using gnuplot</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2019-12-31T09:07:20-03:00">2019-12-31 09:07</time>
</div>
                <div class="stats">
                            <a href="gantt-plot-using-gnuplot/#disqus_thread" data-disqus-identifier="cache\posts\gantt-plot-using-gnuplot.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../categories/gantt-plot/" rel="tag">gantt plot</a></li>
           <li><a class="tag p-category" href="../categories/gnuplot/" rel="tag">gnuplot</a></li>
           <li><a class="tag p-category" href="../categories/plot/" rel="tag">plot</a></li>
           <li><a class="tag p-category" href="../categories/schedule/" rel="tag">schedule</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>At the beginning of the year, it is the period for writing the proposal (or for the master's thesis or doctoral dissertation), iin some programs, as like the <a href="https://www.ufpe.br/ppgeq">UFPE chemical engineering post-graduate</a>, there is a requirement to prepare a schedule of activities proposed to carry out the work. For this reason, I am writing this post, to help to generate something like a Gantt chart showing when a task has started and ended.</p>
<p>Gnuplot is a very versatile tool when we want to work with graphics generation. Doing a quick survey of how to generate a Gantt chart using Gnuplot, we find <a href="http://gnuplot.sourceforge.net/demo_5.5/gantt.html">some examples</a> or in <a href="http://wiki.mn.wtb.tue.nl/wonham/gantt.py">Python</a> and <a href="https://fr.overleaf.com/latex/examples/gantt-charts-with-the-pgfgantt-package/jmkwfxrnfxnw">Latex</a>.</p>
<p>Using some Gnuplot internal functions, we wrote <a href="../files/gantt-plot-using-gnuplot/schedule_gantt.plt">this script</a> that produces a simple Gantt chart (a schedule of activities):</p>
<p><img src="../files/gantt-plot-using-gnuplot/scheduleThesisGantt.png" width="500"></p>
<p>Feel free to use my script and modify it in any way you like!</p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="gmsh-exporting-old-msh-format/">Gmsh: exporting old msh format</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2019-12-14T10:52:15-03:00">2019-12-14 10:52</time>
</div>
                <div class="stats">
                            <a href="gmsh-exporting-old-msh-format/#disqus_thread" data-disqus-identifier="cache\posts\gmsh-exporting-old-msh-format.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../categories/gmsh/" rel="tag">gmsh</a></li>
           <li><a class="tag p-category" href="../categories/mesh/" rel="tag">mesh</a></li>
           <li><a class="tag p-category" href="../categories/msh-format/" rel="tag">msh format</a></li>
           <li><a class="tag p-category" href="../categories/pre-process/" rel="tag">pre-process</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>This post is mainly aimed at my colleagues (and students) in the <a href="http://www.lmcg.ufpe.br/">LMCG research group</a> at <a href="https://www.ufpe.br/litpeg">LITPEG</a>. After many people going to me, asking about a bug of <a href="https://bitbucket.org/lmcg_research_group/p3matpac/src/master/">p3matpac preprocessor</a>, I decide to write it. </p>
<p>After the <a href="http://gmsh.info/">Gmsh</a> 4.0.0 release, Christophe Geuzaine and Jean-François Remacle set the new msh version (msh4) as default msh format (<em>I guess... </em>). After that, new students and colleagues have faced with a following error:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">gridprocessing</span><span class="p">.</span><span class="n">load_gmsh</span><span class="p">(</span><span class="s">'mesh_test.msh'</span><span class="p">)</span>
<span class="n">Unknown</span><span class="w"> </span><span class="s">mesh</span><span class="w"> </span><span class="s">format:</span><span class="w"> </span><span class="s">4.1</span><span class="w"> </span><span class="s">0</span><span class="w"> </span><span class="s">8</span>
</pre></div>

<p>There are 3 ways to fix this: GUI, CLI, and script <sup id="fnref:1"><a class="footnote-ref" href="gmsh-exporting-old-msh-format/#fn:1">1</a></sup>.</p>
<h4>GUI mode</h4>
<p>You need to have the following steps:</p>
<p><strong>1)</strong> Press <code>Ctrl+E</code> shortcut to open the export window:</p>
<p><img src="../files/gmsh-exporting-old-msh-format/export_window.png" width="500"></p>
<p><strong>2)</strong> Select the <code>Version 2 ASCII</code> and OK.</p>
<p><img src="../files/gmsh-exporting-old-msh-format/format_type_window.png" width="500"></p>
<p>Done!!</p>
<h4>CLI mode</h4>
<p>Using the command line interface all you need is run this:</p>
<div class="code"><pre class="code literal-block">gmsh<span class="w"> </span>mesh_test.geo<span class="w"> </span>-2<span class="w"> </span>-format<span class="w"> </span>msh2
</pre></div>

<h4>Script</h4>
<p>Just put this <code>Mesh.MshFileVersion = 2.2;</code> into <code>*.geo</code> script  file.</p>
<h4>Other way</h4>
<p>Using this mode, gmsh will <strong>always</strong> save in msh format 2.2. All you need is add this lines:</p>
<div class="code"><pre class="code literal-block">Mesh.Format<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>msh<span class="w"> </span>output<span class="w"> </span>format
Mesh.MshFileVersion<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>.2<span class="p">;</span><span class="w"> </span>//<span class="w"> </span>Version<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>MSH<span class="w"> </span>file<span class="w"> </span>format<span class="w"> </span>to<span class="w"> </span>use
</pre></div>

<p>Into <code>.gmshrc</code> file, by this command:</p>
<div class="code"><pre class="code literal-block"><span class="nb">echo</span><span class="w"> </span><span class="s2">"Mesh.Format = 1; // msh output format</span>
<span class="s2">Mesh.MshFileVersion = 2.2; // Version of the MSH file format to use"</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.gmshrc
</pre></div>

<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>Some steps ilustrated here can also be found on <a href="http://onelab.info/pipermail/gmsh/2018/012422.html">Gmsh: MSH file format</a> <a class="footnote-backref" href="gmsh-exporting-old-msh-format/#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="procrastination-cycle/">Procrastination cycle</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2019-12-05T14:30:30-03:00">2019-12-05 14:30</time>
</div>
                <div class="stats">
                            <a href="procrastination-cycle/#disqus_thread" data-disqus-identifier="cache\posts\procrastination-cycle.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../categories/ambiente_de_trabalho/" rel="tag">ambiente_de_trabalho</a></li>
           <li><a class="tag p-category" href="../categories/coaching/" rel="tag">coaching</a></li>
           <li><a class="tag p-category" href="../categories/procrastinacao/" rel="tag">Procrastinação</a></li>
           <li><a class="tag p-category" href="../categories/procrastination/" rel="tag">procrastination</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <h3>O ciclo da procrastinação.</h3>
<p>Após uma reunião com o seu chefe (ou orientador), o mesmo lhe dá um prazo de 1 mês para entregar aquele projeto. No primeiro momento você diz: </p>
<p>- Puxa, 1 mês é bastante tempo, vou dar conta fácil!</p>
<p>Aí você começa o projeto de maneira bem caprichosa. No meio do caminho, você dá uma pausa para ver as notícias do dia, ver aquele programa que você perdeu ontem... e quando se dá conta, já perdeu mais de 2 horas.</p>
<p>Nesse meio tempo, um alerta no celular. O grupo de amigos tá super agitado e a galera tá combinando umas saidinhas no final da semana e no fim de semana... Ou no grupo da família surge alguma “zoeira” ou algo semelhante... Quando você senta para retornar ao trabalho... </p>
<p>É quando... Aí você levanta, para toma uma água ou aquele cafezinho e encontra outras pessoas para ficar conversando... Depois disso você para e pensa: agora vai!!... <strong>Vai pra onde meu filho!?</strong> Vai usar o banheiro e assim sucessivamente...</p>
<p>Quando se dá conta já perdeu o dia inteiro, a semana inteira e quando chega o dia da entrega do tão esperado projeto... O resultado? Olha aí na imagem abaixo!</p>
<p><img src="../files/images/procrastination.png"></p>
<p>Tinha tudo para ser o melhor projeto mas, o ciclo da procrastinação não deixou. </p>
<p>Você já parou para analisar seu dia a dia no trabalho?
Você faz suas tarefas agora ou sempre deixa para depois?</p>
<p>Às vezes, mesmo sem saber, você está praticando o tão vicioso ciclo da procrastinação... Isso pode explicar a baixa produtividade de bons profissionais!</p>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="phase-portrait/">Nonlinear dynamics 1: Phase portrait</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2019-11-05T05:43:02-03:00">2019-11-05 05:43</time>
</div>
                <div class="stats">
                            <a href="phase-portrait/#disqus_thread" data-disqus-identifier="cache\posts\phase-portrait.html">Comments</a>


                </div>
                        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../categories/chemical-problem/" rel="tag">chemical problem</a></li>
           <li><a class="tag p-category" href="../categories/cstr/" rel="tag">CSTR</a></li>
           <li><a class="tag p-category" href="../categories/lyapunovs-stability/" rel="tag">Lyapunov’s stability</a></li>
           <li><a class="tag p-category" href="../categories/nonlinear-dynamic/" rel="tag">nonlinear dynamic</a></li>
           <li><a class="tag p-category" href="../categories/phase-portrait/" rel="tag">phase portrait</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <p>Sometimes <em>chemical problems</em> can be answered using knowledge of <em>nonlinear dynamic analysis</em> that is not directly related to chemistry. For example, some information about a complex reactions flow can be gained from the mathematical models of the interspecific competition. Oscillating chemical reactions such as the <a class="reference external" href="https://doi.org/10.1021/ja01352a006">Bray-Liebhafsky reaction</a>, the <a class="reference external" href="https://doi.org/10.1021/ed050p496">Briggs-Rauscher reaction</a> , and the <a class="reference external" href="https://doi.org/10.1063/1.441007">Belousov-Zhabotinski reaction</a> provide wonderful examples of relaxation oscillations (nonlinear behavior) in science. They are often demonstrated in chemistry classes or used to astound the public at university open days. The first experiment of the BZ reaction was conducted by the Russian biochemist Boris Belousov in the 1950s, and the results were not confirmed until as late as 1968 by Zhabotinski (those examples will be addressed ina future post).</p>
<p>In this first post, we going to make a classic <em>phase portrait</em> analysis, considering non-isothermal <em>CSTR</em> problem, where we going to identify <strong>multiplicity steady-state</strong>. Due to the nonlinear behavior of chemical systems (strongly linked with the <a class="reference external" href="https://en.wikipedia.org/wiki/Arrhenius_equation">Arrhenius equation</a>), the existence of multiplicity steady-state is often found when we are modelling or simulating a chemical system, sometimes we come across this behavior, experimentally.</p>
<p>Before we get started, let's define critical points (steady-state for engineering chemical accent) and how to classify them. First start with one of the simplest systems, a homogeneous linear system. Such a system has the form:</p>
<div class="math">
\begin{equation*}
\frac{d\mathbf{x}}{dt} = \mathbf{A}\mathbf{x}
\end{equation*}
</div>
<p>where <span class="math">\(\mathbf{A}\)</span> is a matrix 2-by-2, and <span class="math">\(\mathbf{x}\)</span> is a vector 2-by-1. From calculus we have solution family like <span class="math">\(\mathbf{x} = \mathbf{\omega} e^{\lambda t}\)</span>. So replace this into homogeneous system, we get:</p>
<div class="math">
\begin{equation*}
\left(\mathbf{A} - \lambda\mathbf{I} \right)\omega = \mathbf{0}
\end{equation*}
</div>
<p>with <span class="math">\(\lambda\)</span> and <span class="math">\(\omega\)</span> are the eigenvalue and eigenvector of <span class="math">\(\mathbf{A}\)</span>, respectively. In order to obtain the eigenvalue, we need to solve the <strong>characteristic equation</strong> (<span class="math">\(\mathrm{det}\left(\mathbf{A} - \lambda\mathbf{I} \right) = 0\)</span>) and eigenvector from constraint <span class="math">\(\|\omega\| = 0\)</span> and homogeneous system above.</p>
<p>The correspondent solution of the homogeneous linear system (i.e. when <span class="math">\(\mathbf{A}\mathbf{x}=0\)</span>) is named by critical points and correspond to steady-states or equilibria of the system. The investigation of the critical point character, based on <em>Lyapunov’s stability</em> criteria, is closely related to the question of the system stability at the steady-state to small disturbances can be assessed first by linearization and then by computation of the eigenvalues of the Jacobian matrix:</p>
<div class="math">
\begin{equation*}
\mathbf{J}(\mathbf{x0}) =
\begin{bmatrix}
  \frac{\partial f_1(\mathbf{x0})}{\partial x_1} &amp; \frac{\partial f_1(\mathbf{x0})}{\partial x_2} &amp; ... &amp; \frac{\partial f_1(\mathbf{x0})}{\partial x_m} \\
  \frac{\partial f_2(\mathbf{x0})}{\partial x_1} &amp; \frac{\partial f_2(\mathbf{x0})}{\partial x_2} &amp; ... &amp; \frac{\partial f_2(\mathbf{x0})}{\partial x_m} \\
  \vdots &amp; \vdots &amp; \dots &amp; \vdots \\
  \frac{\partial f_i(\mathbf{x0})}{\partial x_1} &amp; \frac{\partial f_i(\mathbf{x0})}{\partial x_2} &amp; ... &amp; \frac{\partial f_i(\mathbf{x0})}{\partial x_m} \\
  \vdots &amp; \vdots &amp; \dots &amp; \vdots \\
  \frac{\partial f_n(\mathbf{x0})}{\partial x_1} &amp; \frac{\partial f_n(\mathbf{x0})}{\partial x_2} &amp; ... &amp; \frac{\partial f_n(\mathbf{x0})}{\partial x_m} \\
\end{bmatrix}
\end{equation*}
</div>
<p>Or qualitatively using phase portrait analysis. The phase portrait is a set of solving from a number of initial conditions, that will produce a phase path (a plot that shows the dependence of one unknown with the other) showing the behavior of the system along time integration. For example, given the linear system:</p>
<div class="math">
\begin{align*}
x' &amp;= ax \\
y' &amp;= b(x + y )
\end{align*}
</div>
<p>which has as critical point in the origin, and the eigenvalues of Jacobian: <span class="math">\(\mathbf{J} = \begin{bmatrix} a &amp; 0 \\ b &amp; b\end{bmatrix}\)</span> are a and b. If <span class="math">\(a= -1; b=-5\)</span> the phase portrait <a class="footnote-reference brackets" href="phase-portrait/#footnote-1" id="footnote-reference-1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> looks like this:</p>
<figure><img alt="Phase portrait with a= -1 and b=-5." src="../files/nonlinear-dynamic/phase_portrait_linear.png" style="width: 700px; height: 500px;"><figcaption><p>Phase portrait with a= -1 and b=-5.</p>
</figcaption></figure><p>Here all trajectories are lines through the origin (steady state of the system), this behavior is typically to <strong>attractor critical points</strong>. Others trajectories are ilustraited in Table below, with differents values for a and b:</p>
<table>
<thead><tr>
<th class="head"><p>Parameters values</p></th>
<th class="head"><p>Phase portrait</p></th>
<th class="head"><p>Critical point type</p></th>
</tr></thead>
<tbody>
<tr>
<td><p>a = +1; b = -5</p></td>
<td><p><img alt="Phase portrait with a= -1 and b=-5." src="../files/nonlinear-dynamic/phase_portrait_linear_2.png" style="width: 350.0px; height: 250.0px;"></p></td>
<td><p>saddle point</p></td>
</tr>
<tr>
<td><p>a = +1; b = +5</p></td>
<td><p><img alt="Phase portrait with a= -1 and b=-5." src="../files/nonlinear-dynamic/phase_portrait_linear_4.png" style="width: 350.0px; height: 250.0px;"></p></td>
<td><p>source point</p></td>
</tr>
</tbody>
</table>
<p>Those are commonly found in chemical reactors system, but there are others critical points types (center, spiral, star, degenerated,... more info, see the aforementioned references).</p>
<p>Here the chemical engineering kinetic borrows some terms from the dynamic system theory, without a deep discussion of the mathematical apparatus,
we will show how the mathematical suites allow one to determine the critical point type. Assume the mathematical model of a process described by a set of two differential equations. As we saw above, in order to find the critical point type one has to:
1. Calculate the critical points (steady-states) on a phase plane, or solving the corresponding algebraic equation set (<span class="math">\(\mathbf{A}\mathbf{x}=0\)</span>);
2. Compute the Jacobian matrix for the system using the critical points coordinates (<span class="math">\(\mathbf{J}(\mathbf{x0})\)</span>);
3. Find the eigenvalues of the latter matrix, to establish the critical point type and the stability of the stationary state.</p>
<section id="non-isothermal-reactor-problem"><h2>Non-isothermal reactor problem</h2>
<p>Lets us consider the steady-state operation of a CSTR under non-isothermal conditions. If an exothermic reaction takes place in an isolated system (i.e. adiabatic reactor, absent of the heat exchange), a temperature will apparently increase over time, for example, hydrolysis of Propylene Glycol. The rate of this increase depends both on the kinetic parameters (rate constant) and on the thermodynamic properties of the system (thermal conditions of the reaction, heat capacity). For a well-mixed tank reactor, where a single first-order reaction:
A + B → C occurs, the mathematical model is described by this set of equations:</p>
<div class="math">
\begin{align*}
\frac{dC_A}{dt} &amp;= \frac{C_{Ao} - C_A}{\tau} - r_A \\
\frac{dT}{dt} &amp;= \frac{T_o - T}{\tau} + \frac{-\Delta H_{rx}}{\rho C_p|_{mx}} (-r_A)
\end{align*}
</div>
<p>where: <span class="math">\(\tau\)</span> residence time, <span class="math">\(C_{Ao}\)</span> the input reagent concentration, <span class="math">\(r_A = k_o e^{\frac{E}{RT}} C_A^n\)</span> kinetic rate, <span class="math">\(T_o\)</span> is the reagent temperature at entering reactor, <span class="math">\(\Delta H_{rx}\)</span> heat of reaction, <span class="math">\(\rho|_{mx}\)</span> misture density and <span class="math">\(C_p|_{mx}\)</span> misture heat capacity. For simplicity, we assume that the heat capacity, heat reaction and density are temperature independent (i.e. constants) and the kinetic is a single first-order reaction. So, we can rewrite the model as:</p>
<div class="math">
\begin{align*}
\frac{dC_A}{dt} &amp;= \frac{C_{Ao} - C_A}{\tau} - k_o e^{\frac{E}{RT}}C_A \\
\frac{dT}{dt} &amp;= \frac{T_o - T}{\tau} + G k_o e^{\frac{E}{RT}}C_A \\
\end{align*}
</div>
<p>with: <span class="math">\(G = \frac{\Delta H_{rx}}{\rho C_p |_{mx}}\)</span>.</p>
<p>Modeling the system of ODEs using the initial parameters:</p>
<table><tbody>
<tr>
<td><p><span class="math">\(G\)</span></p></td>
<td><p><span class="math">\(90.3\)</span></p></td>
</tr>
<tr>
<td><p><span class="math">\(\frac{E}{R}\)</span></p></td>
<td><p><span class="math">\(- 6307\)</span></p></td>
</tr>
<tr>
<td><p><span class="math">\(k_o\)</span></p></td>
<td><p>17 x <span class="math">\(10^{+6}\)</span></p></td>
</tr>
<tr>
<td><p><span class="math">\(\tau\)</span></p></td>
<td><p>60</p></td>
</tr>
<tr>
<td><p><span class="math">\(C_{Ao}\)</span></p></td>
<td><p>1.5</p></td>
</tr>
<tr>
<td><p><span class="math">\(T_o\)</span></p></td>
<td><p>250</p></td>
</tr>
</tbody></table>
<p>We can find a stationary state through the phase portrait, from several initial conditions as ilustraited following:</p>
<img alt="/files/nonlinear-dynamic/phase_portrait_nonlinear_01.png" src="../files/nonlinear-dynamic/phase_portrait_nonlinear_01.png" style="width: 700px; height: 500px;"><p>We can see that the steady-state (1.499, 250.015) is an <em>attractor critical point</em>, because all phase path toward it. The stationary state is linked to the thermal stability of the reactor (in the current case) and consequently with the convertion, that in this case is very slow. In order to confirm the attraction behavior, we analyze the Jacobian of the system using the critical point:</p>
<div class="math">
\begin{equation*}
\mathbf{J}(C_A, T) =
\begin{bmatrix}
  -\frac{1}{\tau}-k_o e^{-\frac{E}{RT}} &amp; -\frac{k_o C_A \frac{E}{R} e^{-\frac{E}{RT}}}{T^2} \\
  k_o G e^{-\frac{E}{RT}} &amp; \frac{k_o C_A \frac{E}{R} G e^{-\frac{E}{RT}}}{T^2} - \frac{1}{\tau}
\end{bmatrix}
\end{equation*}
</div>
<p>where we found the following eigenvalues: (-0.1667, -0.1666) &lt; 0. The dynamic of this problem depends on the temperature of the initial mixture (as also: inlet concentration, residence time and etc), and thusas also the portrait can change strikingly. In the discussed example the steady-state is undesirable from the efficiency point of view. In order to enable the process, we need to increase the inlet temperature to improve the convertion and thus goes from old stationary to the other one, stable or may be unstable. If the latter one happens, any small perturbation of the system takes it out of the unstable state and goes to a stable one.
Such situation is illustrated the animation below</p>
<img alt="/files/nonlinear-dynamic/phase_portrait.gif" src="../files/nonlinear-dynamic/phase_portrait.gif" style="width: 700px; height: 500px;"><p>When we change the input reagent temperature, we saw the presence of multiple steady-state (red square). In these cases (@ 322 and 331), the animation shows that two of the three possible stationary states are stable: for them the Jacobian matrix eigenvalues are real and of the same sign (stable point). The third steady-state has Jacobian eigenvalues real, but with signs opposite (saddle point).</p>
<table>
<thead><tr>
<th class="head"><p><span class="math">\(T_o\)</span></p></th>
<th class="head"><p><span class="math">\(C_A, T\)</span></p></th>
<th class="head"><p>eigenvalues of Jacobian <span class="math">\((C_A,T)\)</span></p></th>
<th class="head"></th>
</tr></thead>
<tbody>
<tr>
<td rowspan="3"><p>@ 322.727</p></td>
<td><p>1.431, 328.90</p></td>
<td><p>-0.1670, -0.1140</p></td>
<td><p>Attractor</p></td>
</tr>
<tr>
<td><p>0.736, 391.70</p></td>
<td><p>-0.1670,  0.0132</p></td>
<td><p>Saddle</p></td>
</tr>
<tr>
<td><p>0.225, 437.80</p></td>
<td><p>-0.0478, -0.0167</p></td>
<td><p>Attractor</p></td>
</tr>
<tr>
<td rowspan="3"><p>@ 331.818</p></td>
<td><p>1.313, 348.70</p></td>
<td><p>-0.0167, -0.0044</p></td>
<td><p>Attractor</p></td>
</tr>
<tr>
<td><p>1.110, 367.00</p></td>
<td><p>-0.0167,  0.0049</p></td>
<td><p>Saddle</p></td>
</tr>
<tr>
<td><p>0.142, 454.50</p></td>
<td><p>-0.1141, -0.0167</p></td>
<td><p>Attractor</p></td>
</tr>
</tbody>
</table>
<p>This example by no means covers all possible problems of chemical reactor kinetics as well as other differential models for chemical-engineering processes, on which the nonlinear dynamic can be applied. In the next post, we'll be shown how to make a bifurcation diagram through <a class="reference external" href="https://sourceforge.net/projects/matcont/">software MatCont</a>.</p>
<hr class="docutils">
<blockquote>
<aside class="footnote-list brackets"><aside class="footnote brackets" id="footnote-1" role="doc-footnote"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="phase-portrait/#footnote-reference-1">1</a><span class="fn-bracket">]</span></span>
<p>all phase portrait and images were plotted using the function <a class="reference external" href="../pages/listings-nonlinear/">phasePortrait</a></p>
</aside></aside>
</blockquote>
</section>
</div>
        </div>
    
               <script>var disqus_shortname="jontateixeira";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2024         <a href="mailto:jonta.teixeira@gmail.com">Jonathan C. Teixeira</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/80x15.png"></a><br></p>
            
        </footer>
</div>
    </section><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-25324596-7', 'auto');
   ga('send', 'pageview');
</script><script src="../assets/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../assets/js/jquery.timeago.js" type="text/javascript"></script><script src="../assets/js/mathjax.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
